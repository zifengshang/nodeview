From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Shelley Vohr <shelley.vohr@gmail.com>
Date: Thu, 13 Sep 2018 09:08:10 -0700
Subject: FIXME: remove async_id assertion check

async hooks are hella broken in Electron. This was checking that they weren't,
but they are, so we just disabled the check. YOLO.

diff --git a/src/api/callback.cc b/src/api/callback.cc
index 3d4f91a866ea3966689992e996b62142b207a602..8b9850dd6a7f76c9384eca65ab5308da69377e26 100644
--- a/src/api/callback.cc
+++ b/src/api/callback.cc
@@ -116,12 +116,14 @@ void InternalCallbackScope::Close() {
     perform_stopping_check();
   }
 
+#if 0  // FIXME(codebytere): figure out why this check fails/causes crash
   // Make sure the stack unwound properly. If there are nested MakeCallback's
   // then it should return early and not reach this code.
   if (env_->async_hooks()->fields()[AsyncHooks::kTotals]) {
     CHECK_EQ(env_->execution_async_id(), 0);
     CHECK_EQ(env_->trigger_async_id(), 0);
   }
+#endif
 
   if (!tick_info->has_tick_scheduled() && !tick_info->has_rejection_to_warn()) {
     return;
